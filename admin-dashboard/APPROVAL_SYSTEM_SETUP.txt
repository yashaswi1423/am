â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          ADMIN LOGIN APPROVAL SYSTEM - SETUP GUIDE               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” WHAT IS THIS?
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

This is a TWO-FACTOR AUTHENTICATION system for your admin dashboard.

HOW IT WORKS:
1. Someone tries to login â†’ System sends email to you
2. You receive email with APPROVE/REJECT buttons
3. You click APPROVE â†’ They can login
4. You click REJECT â†’ They cannot login
5. Request expires in 10 minutes if no action taken

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ WHAT YOU NEED TO PROVIDE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

You need to provide 3 email addresses:

1. EMAIL_USER
   â†’ The Gmail account that will SEND the approval emails
   â†’ Example: mystore.notifications@gmail.com
   â†’ This should be a dedicated email for your store

2. EMAIL_PASSWORD
   â†’ The App Password for the above Gmail account
   â†’ NOT your regular Gmail password!
   â†’ This is a 16-character code from Google
   â†’ Example: abcd efgh ijkl mnop

3. ADMIN_EMAIL
   â†’ Where you want to RECEIVE approval requests
   â†’ This is YOUR personal email
   â†’ Example: owner@gmail.com or your-phone-email@gmail.com

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ STEP-BY-STEP SETUP (15 MINUTES)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 1: CREATE DATABASE TABLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Open phpMyAdmin: http://localhost/phpmyadmin
2. Click on "ecommerce_admin" database (left sidebar)
3. Click "SQL" tab at the top
4. Open file: am/admin-dashboard/database/add_login_approval.sql
5. Copy ALL the content
6. Paste into phpMyAdmin SQL box
7. Click "Go" button
8. You should see: "Login approval table created successfully!"

âœ… CHECKPOINT: You should now see "login_requests" table in your database

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 2: SETUP GMAIL FOR SENDING EMAILS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Option A: Use Existing Gmail
Option B: Create New Gmail (Recommended for business)

For either option:

1. Go to: https://myaccount.google.com/security

2. Enable 2-Step Verification:
   - Scroll to "2-Step Verification"
   - Click "Get Started"
   - Follow the setup (use your phone number)
   - Complete the setup

3. Create App Password:
   - Go to: https://myaccount.google.com/apppasswords
   - Select: "Mail" from first dropdown
   - Select: "Windows Computer" from second dropdown
   - Click "Generate"
   - You'll see a 16-character password like: abcd efgh ijkl mnop
   - COPY THIS PASSWORD (you'll need it in Step 3)

âœ… CHECKPOINT: You have a 16-character App Password

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 3: UPDATE CONFIGURATION FILE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Open file: am/admin-dashboard/server/.env

2. Find these 3 lines at the bottom:
   EMAIL_USER=your-email@gmail.com
   EMAIL_PASSWORD=your-app-password
   ADMIN_EMAIL=admin@yourstore.com

3. Replace with YOUR actual values:

   EMAIL_USER=mystore.notifications@gmail.com
   â†‘ The Gmail that will SEND emails

   EMAIL_PASSWORD=abcd efgh ijkl mnop
   â†‘ The 16-character App Password from Step 2

   ADMIN_EMAIL=owner@gmail.com
   â†‘ YOUR email where you want to RECEIVE approval requests

4. Save the file

âœ… CHECKPOINT: .env file is updated with your email details

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 4: RESTART BACKEND SERVER
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Find the terminal running the backend server
2. Press Ctrl+C to stop it
3. Run: npm start
4. Wait for: "âœ… Database connected successfully"

âœ… CHECKPOINT: Backend server is running without errors

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

STEP 5: TEST THE SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Open browser: http://localhost:3000/admin/login

2. Enter credentials:
   Username: admin
   Password: admin123

3. Click "Request Login"

4. You should see: "Waiting for Approval" screen

5. Check your ADMIN_EMAIL inbox

6. You should receive an email with:
   - Login details (username, time, IP, device)
   - Green "APPROVE LOGIN" button
   - Red "REJECT LOGIN" button

7. Click "APPROVE LOGIN"

8. Browser should automatically log you in!

âœ… CHECKPOINT: You received email and login worked!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“§ WHAT THE APPROVAL EMAIL LOOKS LIKE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Subject: ğŸ” Admin Login Approval Required - Action Needed

Content:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ğŸ” Login Approval Required      â”‚
â”‚                                         â”‚
â”‚  Someone is trying to access your      â”‚
â”‚  admin dashboard                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Login Request Details:
ğŸ‘¤ Username: admin
ğŸ• Time: Tuesday, February 10, 2026 at 7:30 PM IST
ğŸŒ IP Address: 192.168.1.100
ğŸ’» Device: Chrome on Windows

â° This request will expire in 10 minutes

[âœ… APPROVE LOGIN]  [âŒ REJECT LOGIN]

ğŸ›¡ï¸ Security Warning:
â€¢ Only approve if you recognize this login attempt
â€¢ If you didn't initiate this, click REJECT immediately

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”’ SECURITY FEATURES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Two-Factor Authentication
   â†’ Even if someone knows the password, they can't login without your approval

âœ… 10-Minute Expiration
   â†’ Approval requests expire automatically for security

âœ… One-Time Use Links
   â†’ Each approval link works only once

âœ… IP Address Tracking
   â†’ See where login attempts are coming from

âœ… Device Information
   â†’ Know what device/browser is being used

âœ… Email Notifications
   â†’ Get instant alerts on your phone/email

âœ… Approve/Reject Options
   â†’ Full control over who can access

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â“ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Problem: Email not received
Solution:
â†’ Check spam/junk folder
â†’ Verify EMAIL_USER is correct in .env
â†’ Verify EMAIL_PASSWORD is the App Password (not regular password)
â†’ Check ADMIN_EMAIL is correct
â†’ Make sure backend server is running
â†’ Check backend console for error messages

Problem: "Invalid login" error in Gmail
Solution:
â†’ Make sure 2-Step Verification is enabled
â†’ Use App Password, not regular Gmail password
â†’ Generate a new App Password if needed

Problem: "Waiting for Approval" stuck
Solution:
â†’ Check if email was sent (check spam folder)
â†’ Request expires in 10 minutes - try again
â†’ Check backend console for errors
â†’ Verify database table was created

Problem: Approval link doesn't work
Solution:
â†’ Make sure backend server is running
â†’ Check if link expired (10 minutes)
â†’ Try requesting login again

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ TIPS & BEST PRACTICES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Use a dedicated Gmail for your store
   â†’ Don't use your personal email as EMAIL_USER
   â†’ Create: yourstorename.notifications@gmail.com

2. Keep ADMIN_EMAIL as your personal email
   â†’ This is where YOU receive approval requests
   â†’ Use email you check frequently

3. Enable mobile notifications
   â†’ Install Gmail app on your phone
   â†’ Enable push notifications
   â†’ Approve logins from anywhere!

4. Check login attempts regularly
   â†’ Review IP addresses
   â†’ Look for suspicious activity
   â†’ Reject unknown attempts

5. Keep .env file secure
   â†’ Never share or commit to Git
   â†’ Keep App Password secret
   â†’ Change if compromised

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± MOBILE USAGE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

You can approve logins from your phone!

1. Install Gmail app on your phone
2. Add your ADMIN_EMAIL account
3. Enable notifications
4. When someone tries to login:
   â†’ You get instant notification
   â†’ Open email on phone
   â†’ Click APPROVE or REJECT
   â†’ Done! They can login

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… CHECKLIST - WHAT YOU NEED TO DO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â–¡ Run add_login_approval.sql in phpMyAdmin
â–¡ Enable 2-Step Verification on Gmail
â–¡ Generate App Password from Google
â–¡ Update EMAIL_USER in .env file
â–¡ Update EMAIL_PASSWORD in .env file
â–¡ Update ADMIN_EMAIL in .env file
â–¡ Restart backend server
â–¡ Test login at http://localhost:3000/admin/login
â–¡ Check email inbox for approval request
â–¡ Click APPROVE button
â–¡ Verify login works

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Need help? Check backend console logs for detailed error messages.
